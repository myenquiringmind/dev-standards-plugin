{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/myenquiringmind/dev-standards-plugin/schemas/config.schema.json",
  "title": "Dev Standards Plugin Configuration",
  "description": "Configuration schema for dev-standards plugin",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string",
      "description": "Reference to the JSON schema"
    },
    "protectedBranches": {
      "type": "array",
      "items": {
        "type": "string",
        "minLength": 1
      },
      "minItems": 1,
      "uniqueItems": true,
      "description": "Git branches that cannot be directly edited",
      "default": ["main", "master", "production"]
    },
    "formatters": {
      "type": "object",
      "additionalProperties": {
        "type": "string",
        "minLength": 1
      },
      "description": "File extension to formatter command mapping"
    },
    "typeCheckers": {
      "type": "object",
      "additionalProperties": {
        "type": "string",
        "minLength": 1
      },
      "description": "File extension to type checker command mapping"
    },
    "linters": {
      "type": "object",
      "additionalProperties": {
        "type": "string",
        "minLength": 1
      },
      "description": "File extension to linter command mapping"
    },
    "dangerousPatterns": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string",
          "description": "Human-readable description of this section"
        },
        "unix": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Regex patterns dangerous on Unix/Linux/macOS"
        },
        "windows": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Regex patterns dangerous on Windows"
        },
        "crossPlatform": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Regex patterns dangerous on all platforms"
        }
      },
      "additionalProperties": false,
      "description": "Regex patterns for dangerous commands that should be blocked"
    }
  },
  "required": ["protectedBranches", "formatters", "typeCheckers", "linters", "dangerousPatterns"],
  "additionalProperties": false
}
